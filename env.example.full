# Full Environment Configuration for Self-Hosting
# This file contains ALL possible configuration options
# For most users, see the simplified env.example

# ========================================
# Network Configuration
# ========================================
NETWORK=base-sepolia  # Options: base-sepolia (testnet), base (mainnet)
INFURA_PROJECT_ID=your_infura_project_id  # Optional, for on-chain verification

# ========================================
# Proxy Server Configuration
# ========================================
PROXY_HOST=0.0.0.0
PROXY_PORT=8000
PROXY_TIMEOUT_S=15
PROXY_DEBUG_ENABLED=true  # Disable in production

# Upstream facilitator configuration
PROXY_UPSTREAM_VERIFY_URL=https://x402.org/facilitator/verify
PROXY_UPSTREAM_SETTLE_URL=https://x402.org/facilitator/settle

# Network chain ID mapping (JSON format)
# PROXY_NETWORK_CHAIN_MAP='{"base":8453,"base-sepolia":84532,"optimism":10}'

# Feature toggles
PROXY_SETTLE_RISK_ENABLED=0  # Enable risk check at settle stage

# ========================================
# Risk Engine Configuration
# ========================================
# Mode selection
PROXY_LOCAL_RISK=1  # 1=local in-memory, 0=external Trustline

# External risk engine (when PROXY_LOCAL_RISK=0)
# RISK_ENGINE_URL=<TRUSTLINE_API_URL>
# RISK_ENGINE_COMPAT=trustline  # Enable Trustline API compatibility layer
# RISK_INTERNAL_TOKEN=your_internal_token  # Optional auth token

# ========================================
# Seller Configuration (for demos)
# ========================================
SELLER_ADDRESS=0x0987654321098765432109876543210987654321
MERCHANT_PAYTO=0x000000000000000000000000000000000000dEaD
SELLER_PRIVATE_KEY=your_seller_private_key  # Optional
SELLER_PORT=8010
PUBLIC_URL=http://localhost:${SELLER_PORT}
SELLER_BASE_URL=http://localhost:${SELLER_PORT}

# ========================================
# Buyer Configuration (for demos)
# ========================================
BUYER_PRIVATE_KEY=your_buyer_private_key
BUYER_ADDRESS=your_buyer_address  # Optional

# ========================================
# Agent Configuration (for demos)
# ========================================
AGENT_GATEWAY_URL=http://localhost:8000
FACILITATOR_API_KEY=your_facilitator_api_key  # If required

# OpenAI integration
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-5-mini

# ========================================
# Development/Testing
# ========================================
# Local stub (bypass real facilitator)
STUB_UPSTREAM=0

# ========================================
# Token Addresses
# ========================================
# Base Sepolia testnet USDC: 0x036CbD53842c5426634e7929541eC2318f3dCF7e
# Base mainnet USDC: 0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913

# ========================================
# Deployment Modes
# ========================================
# Mode 1 - Local Development:
#   PROXY_LOCAL_RISK=1
#   Features: Single process, in-memory storage
#
# Mode 2 - Production with Trustline:
#   PROXY_LOCAL_RISK=0
#   RISK_ENGINE_URL=http://trustline-api.t54.ai/api/v1
#   RISK_ENGINE_COMPAT=trustline
#   RISK_INTERNAL_TOKEN=your_token  # Optional
#   Features: Full risk assessment, persistent storage
#
# Mode 3 - Custom Risk Engine:
#   PROXY_LOCAL_RISK=0
#   RISK_ENGINE_URL=https://your-risk-engine.com
#   Features: Your own risk implementation
